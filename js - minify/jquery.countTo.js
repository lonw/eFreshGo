(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{if(typeof exports==="object"){a(require("jquery"))}else{a(jQuery)}}}(function(c){var b=function(d,e){this.$element=c(d);this.options=c.extend({},b.DEFAULTS,this.dataOptions(),e);this.init()};b.DEFAULTS={from:0,to:0,speed:1000,refreshInterval:100,decimals:0,formatter:a,onUpdate:null,onComplete:null};b.prototype.init=function(){this.value=this.options.from;this.loops=Math.ceil(this.options.speed/this.options.refreshInterval);this.loopCount=0;this.increment=(this.options.to-this.options.from)/this.loops};b.prototype.dataOptions=function(){var f={from:this.$element.data("from"),to:this.$element.data("to"),speed:this.$element.data("speed"),refreshInterval:this.$element.data("refresh-interval"),decimals:this.$element.data("decimals")};var g=Object.keys(f);for(var e in g){var d=g[e];if(typeof(f[d])==="undefined"){delete f[d]}}return f};b.prototype.update=function(){this.value+=this.increment;this.loopCount++;this.render();if(typeof(this.options.onUpdate)=="function"){this.options.onUpdate.call(this.$element,this.value)}if(this.loopCount>=this.loops){clearInterval(this.interval);this.value=this.options.to;if(typeof(this.options.onComplete)=="function"){this.options.onComplete.call(this.$element,this.value)}}};b.prototype.render=function(){var d=this.options.formatter.call(this.$element,this.value,this.options);this.$element.text(d)};b.prototype.restart=function(){this.stop();this.init();this.start()};b.prototype.start=function(){this.stop();this.render();this.interval=setInterval(this.update.bind(this),this.options.refreshInterval)};b.prototype.stop=function(){if(this.interval){clearInterval(this.interval)}};b.prototype.toggle=function(){if(this.interval){this.stop()}else{this.start()}};function a(e,d){return e.toFixed(d.decimals)}c.fn.countTo=function(d){return this.each(function(){var h=c(this);var f=h.data("countTo");var i=!f||typeof(d)==="object";var e=typeof(d)==="object"?d:{};var g=typeof(d)==="string"?d:"start";if(i){if(f){f.stop()}h.data("countTo",f=new b(this,e))}f[g].call(f)})}}));